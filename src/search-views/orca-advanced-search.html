<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="../../bower_components/paper-video/paper-video.html">

<link rel="import" href="../utils/footnotes.html">
<link rel="import" href="../utils/paper-card-ripple.html">
<link rel="import" href="../utils/scroll-to.html">
<link rel="import" href="../utils/title-collapse.html">

<link rel="import" href="../shared-styles.html">

<dom-module id="orca-advanced-search">
    <template>
        <style is="custom-style" include="shared-styles iron-flex iron-flex-alignment">
        :host {
            display: block;
        }
        </style>

        <div class="layout vertical">
            <paper-card-ripple id="overview" heading="Vue d'ensemble">
                <div class="card-content">
                    <h1>Introduction</h1>
                    <p>
                        Accessible dans tous les <em>modules de visualisation</em>, la recherche avanc&eacute;e est un outil puissant qui permet une r&eacute;elle exploitation de vos donn&eacute;es. Elle se d&eacute;cline en deux fonctionnalit&eacute;s&nbsp;: la configuration des crit&egrave;res de recherche et l'affichage de d&eacute;tails suppl&eacute;mentaires.
                    </p>
                    <h2>R&eacute;utilisation</h2>
                    <p>
                        La <em>recherche avanc&eacute;e</em> fonctionne de pair avec le <a href="/orca-links">module de partage</a>&nbsp;: chaque crit&egrave;re de recherche d&eacute;fini &mdash; ainsi que chaque information suppl&eacute;mentaire s&eacute;lectionn&eacute;e, sont synchronis&eacute;s avec l'URL du navigateur.
                        <br />Partager ou sauvegarder le lien vers une recherche permet de r&eacute;-acc&eacute;der &agrave; tout moment &agrave; la m&ecirc;me configuration &mdash; avec des r&eacute;sultats toujours &agrave; jour.
                        <scroll-to target="/orca-links">Module de partage</scroll-to>
                    </p>
                    <h2 id="overview-details">D&eacute;tails d'impl&eacute;mentation</h2>
                    <ol type="I">
                        <li>
                            Chaque condition sp&eacute;cifi&eacute;e ajoute un nouveau crit&egrave;re de filtrage des r&eacute;sultats. Seules les ressources qui satisfont toutes ces conditions sont conserv&eacute;es.
                        </li>
                        <li>
                            Fermer le bandeau de recherche avanc&eacute;e retire
                            <footnote-needed ref="1" numeric>l'ensemble des crit&egrave;res de filtrage</footnote-needed> s&eacute;lectionn&eacute;s&nbsp;: cela &eacute;vite de pr&eacute;senter &agrave; l'utilisateur des
                            <footnote-needed ref="2" numeric>ressources filtr&eacute;es potentiellement &agrave; son insu</footnote-needed>. Le cas &eacute;ch&eacute;ant, une alerte temporaire propose &agrave; l'utilisateur de r&eacute;-&eacute;tablir les crit&egrave;res ainsi retir&eacute;s.
                        </li>
                        <li>
                            Les crit&egrave;res de recherche avanc&eacute;e viennent s'ajouter &agrave; ceux de <a href="/orca-filtering">filtrage simple</a> (s'il y en a) et seuls les r&eacute;sultats satisfaisant l'ensemble de ces conditions sont pr&eacute;serv&eacute;s.
                        </li>
                    </ol>
                    <footnote-refs>
                        <footnote-ref ref="1" numeric>
                            Cela ne concerne pas les crit&egrave;res de <a href="/orca-filtering">filtrage simple</a>, qui sont toujours accessibles directement depuis le tableau correspondant.
                        </footnote-ref>
                        <footnote-ref ref="2" numeric>
                            N&eacute;anmoins, les informations suppl&eacute;mentaires s&eacute;lectionn&eacute;es restent affich&eacute;es.
                        </footnote-ref>
                    </footnote-refs>
                </div>
            </paper-card-ripple>

            <paper-card-ripple id="search-criteria" heading="Crit&egrave;res de recherche">
                <div class="card-content">
                    <p>
                        L'int&eacute;r&ecirc;t premier de la <em>recherche avanc&eacute;e</em> est le filtrage des r&eacute;sultats selon certain crit&egrave;res intelligents. Ceux-ci varient selon chaque module de visualisation&nbsp;: par exemple, dans le module <a href="/orca-employees">agents</a>, les crit&egrave;res concernent l'&eacute;tat de validation des leurs aptitudes.
                        <scroll-to target="#module-options">Options de chaque module</scroll-to>
                    </p>
                    <p>La vid&eacute;o de ci-dessous d&eacute;montre comment ne filtrer que les agents dont une aptitude sp&eacute;cifique expire sous trois mois.</p>
                </div>
                <div class="img border-top">
                    <paper-video controls preload="auto" src="../../assets/orca-advanced-search/search-criteria.webm" autohide-controls="500" height="600"></paper-video>
                </div>
            </paper-card-ripple>

            <paper-card-ripple id="module-options" heading="Options de chaque module">
                <div class="card-content">
                    <p>
                        Chaque <em>module de visualisation</em> propose ses propres crit&egrave;res de recherche avanc&eacute;e, &eacute;tudi&eacute;s pour assister l'utilisateur dans l'exploitation de ses donn&eacute;es.
                    </p>
                    <title-collapse id="departments-options" h2>
                        <span class="title">Visualisation des d&eacute;partements</span>
                        <p>
                            La <em>recherche avanc&eacute;e</em> ne propose pas de crit&egrave;re de s&eacute;lection particuliers pour le module de visualisation des <a href="/orca-departments">d&eacute;partements</a>. On estime que les conditions de <a href="/orca-filtering">filtrage simple</a> sont suffisantes dans ce cas.
                        </p>
                    </title-collapse>
                    <title-collapse id="sites-options" h2>
                        <span class="title">Visualisation des sites</span>
                        <p>
                            Les sites peuvent &ecirc;tre filtr&eacute;s selon l'&eacute;tat des aptitudes de ses agents. Une condition de s&eacute;lection concerne une aptitude particuli&egrave;re et peut &ecirc;tre d&eacute;finie&nbsp;:
                        </p>
                        <ol type="I">
                            <li>Selon le niveau d'atteignement de sa cible pour le site
                                <ul>
                                    <li>atteinte</li>
                                    <li>presque atteinte (aux deux tiers)</li>
                                    <li>non atteinte</li>
                                </ul>
                            </li>
                            <li>Selon la quantit&eacute; d'agents form&eacute;s dans le site
                                <ul>
                                    <li>
                                        <footnote-needed>par rapport &agrave; un taux</footnote-needed>
                                    </li>
                                    <li>
                                        <footnote-needed>par rapport &agrave; un nombre pr&eacute;cis</footnote-needed>
                                    </li>
                                </ul>
                            </li>
                        </ol>
                        <footnote-ref>N&eacute;cessite une &eacute;tape suppl&eacute;mentaire pour configurer le filtre.</footnote-ref>
                    </title-collapse>
                    <title-collapse id="employees-options" h2>
                        <span class="title">Visualisation des agents</span>
                        <p>
                            Comme leurs sites, les agents peuvent &ecirc;tre filtr&eacute;s selon l'&eacute;tat de leurs aptitudes. Une condition de s&eacute;lection concerne une aptitude particuli&egrave;re et peut &ecirc;tre d&eacute;finie&nbsp;:
                        </p>
                        <ol type="I">
                            <li>Selon son statut actuel pour l'agent
                                <ul>
                                    <li>valide</li>
                                    <li>expir&eacute;</li>
                                </ul>
                            </li>
                            <li>Selon que l'agent a ou n'a pas int&eacute;gr&eacute; son dispositif
                                <ul>
                                    <li>dispositif
                                        <footnote-needed ref="1" numeric>int&eacute;gr&eacute;</footnote-needed>
                                    </li>
                                    <li>dispositif
                                        <footnote-needed ref="2" numeric>jamais int&eacute;gr&eacute;</footnote-needed>
                                    </li>
                                    <li>dispositif explicitement quitt&eacute; &mdash; </li>
                                </ul>
                            </li>
                            <li>Selon son obtention/renouvellement par l'agent
                                <ul>
                                    <li>obtention/renouvellement
                                        <footnote-needed alternate>r&eacute;cent(e)</footnote-needed>
                                    </li>
                                    <li>obtention/renouvellement sur une
                                        <footnote-needed alternate>p&eacute;riode sp&eacute;cifique</footnote-needed>
                                    </li>
                                </ul>
                            </li>
                            <li>Selon son expiration pour l'agent
                                <ul>
                                    <li>expiration
                                        <footnote-needed alternate>r&eacute;cente</footnote-needed>
                                    </li>
                                    <li>expiration
                                        <footnote-needed alternate>prochaine</footnote-needed>
                                    </li>
                                    <li>expiration sur une
                                        <footnote-needed alternate>p&eacute;riode sp&eacute;cifique</footnote-needed>
                                    </li>
                                </ul>
                            </li>
                        </ol>
                        <footnote-ref alternate>N&eacute;cessite une &eacute;tape suppl&eacute;mentaire pour configurer le filtre.</footnote-ref>
                        <footnote-refs>
                            <footnote-ref ref="1" numeric>Comprendre&nbsp;: agent form&eacute; au moins une fois, ind&eacute;pendamment de son statut actuel.</footnote-ref>
                            <footnote-ref ref="2" numeric>Comprendre&nbsp;: agent jamais form&eacute;.</footnote-ref>
                            <footnote-ref ref="3" numeric>
                                Invalidation sp&eacute;cifique et d&eacute;finitive, habituellement &agrave; la demande de l'agent.
                            </footnote-ref>
                        </footnote-refs>
                        <scroll-to target="/orca-employees#certificates">Aptitudes d'un agent &mdash; Perte et expiration</scroll-to>
                    </title-collapse>
                    <title-collapse id="trainings-options" h2>
                        <span class="title">Visualisation des formations</span>
                        <p>
                            Les formations peuvent &ecirc;tre filtr&eacute;es selon leur dates et/ou selon leur type&nbsp;:
                        </p>
                        <ol type="I">
                            <li>Selon leur date
                                <ul>
                                    <li>pr&eacute;vue prochainement</li>
                                    <li>pr&eacute;vue/r&eacute;alis&eacute;e r&eacute;cemment</li>
                                    <li>pr&eacute;vue/r&eacute;alis&eacute;e sur une p&eacute;riode sp&eacute;cifique</li>
                                </ul>
                            </li>
                            <li>Selon leur type
                                <ul>
                                    <li>type de
                                        <footnote-needed>formation particulier</footnote-needed>
                                    </li>
                                    <li>types de formation octroyant une aptitude particuli&egrave;re</li>
                                </ul>
                            </li>
                        </ol>
                        <footnote-ref>Ce filtre peut &ecirc;tre appliqu&eacute; plusieurs fois pour s&eacute;lectionner multiples types de formations.</footnote-ref>
                    </title-collapse>
                </div>
            </paper-card-ripple>

            <paper-card-ripple id="more-data" heading="Davantage d'informations">
                <div class="card-content">
                    <p>
                        Le bandeau de recherche avanc&eacute;e propose &eacute;galement la visualisation d'informations additionnelles. Cocher/d&eacute;cocher la case li&eacute;e &agrave; une donn&eacute;e fait appara&icirc;tre/dispara&icirc;tre la colonne correspondante dans le tableau des ressources.
                    </p>
                    <h2>D&eacute;tails d'impl&eacute;mentation</h2>
                    <ol type="I">
                        <li>
                            Les d&eacute;tails disponibles pour les modules de visualisation des <a href="/orca-sites">sites</a> et celui des <a href="/orca-employees">agents</a> se d&eacute;clinent en un bloc de configuration pour chaque <a href="/orca-observed-certificates">aptitude observ&eacute;e</a>.
                        </li>
                        <li>
                            La visualisation de d&eacute;tails suppl&eacute;mentaires
                            <footnote-needed>n'est pas annul&eacute;e</footnote-needed> en fermant le bandeau de recherche avanc&eacute;e.
                        </li>
                    </ol>
                    <footnote-ref>
                        Fermer le bandeau de recherche avanc&eacute;e retire les crit&egrave;res de filtrage s&eacute;lectionn&eacute;s.
                    </footnote-ref>
                    <scroll-to target="#overview-details">Recherche avanc&eacute;e &mdash; D&eacute;tails d'impl&eacute;mentation</scroll-to>
                    <p>
                        Dans la vid&eacute;o de d&eacute;monstration ci-dessous, l'utilisateur ajoute d'avantage de colonnes d'informations concernant une aptitude qui l'int&eacute;resse.
                    </p>
                </div>
                <div class="img border-top">
                    <paper-video controls preload="auto" src="../../assets/orca-advanced-search/more-data.webm" autohide-controls="500" height="600"></paper-video>
                </div>
            </paper-card-ripple>

        </div>
    </template>

    <script>
    Polymer({
        is: 'orca-advanced-search'
    });
    </script>
</dom-module>
