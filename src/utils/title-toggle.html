<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">

<link rel="import" href="../shared-styles.html">

<dom-module id="title-toggle">
    <template>
        <style is="custom-style" include="iron-flex iron-positioning shared-styles">
        :host {
            cursor: pointer;
        }
        
        [name=title] {
            position: relative;
        }
        
        paper-ripple {
            color: grey;
        }
        
        h1,
        h2 {
            margin-bottom: 0;
        }
        </style>
        <template is="dom-if" if="[[h2]]">
            <h2 name="title" class="layout horizontal center" on-tap="toggle">
                <paper-ripple></paper-ripple>
                <span class="flex"><content select=":not(.suffix)"></content></span>
                <content select=".suffix"></content>
            </h2>
        </template>
        <template is="dom-if" if="[[!h2]]">
            <h1 name="title" class="layout horizontal center" on-tap="toggle">
                <paper-ripple></paper-ripple>
                <span class="flex"><content select=":not(.suffix)"></content></span>
                <content select=".suffix"></content>
            </h1>
        </template>
    </template>
    <script>
    Polymer({
        is: 'title-toggle',

        properties: {
            state: {
                type: Boolean,
                notify: true,
                value: false
            },
            h2: {
                type: Boolean,
                value: false
            }
        },

        ready: function() {
            this.async(function() {
                this.classFollows('underlined', this.$$('[name=title]'), this);
            });
        },

        on: function() {
            this.state = true;
        },

        off: function() {
            this.state = false;
        },

        toggle: function() {
            this.state = !this.state;
        }
    });
    </script>
</dom-module>
